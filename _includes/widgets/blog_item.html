{% assign item = include.item %}
    <style>
        /* 限制为3行 */
        .collapsed {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            height: 4.8em; /* 3行 x 1.6行高 */
        }
        
        /* 渐变遮罩 */
        .fade-out {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40px;
            background: linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%);
            opacity: 1;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        
        .fade-out.hidden {
            opacity: 0;
        }
        
        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .read-more-btn {
            background: #4299e1;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 2px 10px rgba(66, 153, 225, 0.4);
            transition: all 0.3s ease;
        }
        
        .read-more-btn:hover {
            background: #3182ce;
        }
        
        .read-more-btn.expanded {
            background: #e53e3e;
        }
        
        .lang-btn {
            background: white;
            color: #4a5568;
            border: 1px solid #cbd5e0;
            padding: 6px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        .lang-btn:hover {
            background: #4299e1;
            color: white;
            border-color: #4299e1;
        }
        
        /* 响应式设计 */
        @media (max-width: 600px) {
            .card {
                padding: 20px;
            }
            
            .card-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .card-footer {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .lang-btn {
                align-self: flex-end;
            }
        }
    </style>
</head>
<body>
    <div class="card">
        <!-- 卡片头部，包含标题和语言切换 -->
        <div>
            <h2 id="main-title">{{item.title_en}}</h2>
            <button id="lang-btn" class="lang-btn">中文</button>
        </div>
        
        <!-- 内容区域 -->
        <div class="text-container">
            <div id="text-content" class="text-content collapsed">
                {{item.content_en}}
            </div>
            <div id="fade" class="fade-out"></div>
        </div>
        
        <!-- 卡片底部，包含操作按钮 -->
        <div class="card-footer">
            <button id="read-more-btn" class="read-more-btn">阅读更多</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const textElement = document.getElementById('text-content');
            const readMoreBtn = document.getElementById('read-more-btn');
            const fadeElement = document.getElementById('fade');
            const langBtn = document.getElementById('lang-btn');
            
            let isEnglish = false;
            let isExpanded = false;
            
            // 定义多语言内容
            const translations = {
                'main-title': {
                    'zh': '<p>zw</p>',
                    'en': '<p>en</p>'
                },
                'text-content': {
                    'zh': '<p>zw</p>',
                    'en': '<p>en</p>'
                },
                'read-more': {
                    'zh': '阅读更多',
                    'en': 'Read More'
                },
                'read-less': {
                    'zh': '收起内容',
                    'en': 'Read Less'
                },
                'lang-btn': {
                    'zh': 'English',
                    'en': '中文'
                };
                'footer-text': {
                    'zh': {{item.date}},
                    'en': {{item.date}}
                }
            };
            
            // 阅读更多功能
            readMoreBtn.addEventListener('click', function() {
                isExpanded = !isExpanded;
                
                if (isExpanded) {
                    // 展开内容
                    textElement.classList.remove('collapsed');
                    fadeElement.classList.add('hidden');
                    readMoreBtn.textContent = isEnglish ? translations['read-less']['en'] : translations['read-less']['zh'];
                    readMoreBtn.classList.add('expanded');
                } else {
                    // 收起内容
                    textElement.classList.add('collapsed');
                    fadeElement.classList.remove('hidden');
                    readMoreBtn.textContent = isEnglish ? translations['read-more']['en'] : translations['read-more']['zh'];
                    readMoreBtn.classList.remove('expanded');
                }
            });
            
            // 语言切换功能
            langBtn.addEventListener('click', function() {
                isEnglish = !isEnglish;
                const lang = isEnglish ? 'en' : 'zh';
                
                // 更新内容
                document.getElementById('main-title').textContent = translations['main-title'][lang];
                document.getElementById('text-content').innerHTML = translations['text-content'][lang];
                langBtn.textContent = translations['lang-btn'][lang];
                
                // 更新页脚文本
                document.querySelector('.card-footer div').textContent = translations['footer-text'][lang];
                
                // 更新阅读更多按钮文本
                if (isExpanded) {
                    readMoreBtn.textContent = translations['read-less'][lang];
                } else {
                    readMoreBtn.textContent = translations['read-more'][lang];
                }
                
                // 重新应用展开/收起状态
                if (isExpanded) {
                    textElement.classList.remove('collapsed');
                    fadeElement.classList.add('hidden');
                } else {
                    textElement.classList.add('collapsed');
                    fadeElement.classList.remove('hidden');
                }
            });
        });
    </script>
</body>
</html>
